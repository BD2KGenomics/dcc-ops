version: '2'

services:
  dcc-action:
    build:
      context: ../../dcc-action-service/luigi_task_executor/
      dockerfile: Dockerfile_decider
    image: quay.io/ucsc_cgl/action:1.0.0
    environment:
      STORAGE_ACCESS_TOKEN: "${storage_access_token}"
      STORAGE_SERVER: "${storage_server}"
      ELASTIC_SEARCH_SERVER: "${elastic_search_server}"
      ELASTIC_SEARCH_PORT: "${elastic_search_port}"
      TOUCH_FILE_DIRECTORY: "${touch_file_directory}"
    restart: always
    ports:
      - "8082"
    networks: 
      - esnet



networks:
  esnet:
    external: true
